$("#exportHtml").click(function(){if(""==$("textarea[name=usrcsv]").val())alert("You need to enter the data!");else{var e=$("textarea[name=usrcsv]").val().replace(/[ \t]+/g,","),t=Math.random().toString(36).substr(2,6),a=Math.random().toString(36).substr(2,5);if(""==$("input[name=mtitle]").val())i="Heatmap";else var i=$("input[name=mtitle]").val();if(""==$("input[name=yaxis]").val())l="";else var l=$("input[name=yaxis]").val();if(""==$("input[name=mincolor]").val())n="#fff";else var n=$("input[name=mincolor]").val();if(""==$("input[name=maxcolor]").val())r="#000";else var r=$("input[name=maxcolor]").val();if($("#select-datalebels").is(":checked"))o=!0;else var o=!1;var s='<pre id="'+a+'" style="display:none;">\n'+e+'\n</pre>\n<script src="https://code.highcharts.com/modules/heatmap.js"><\/script>\n<div id="'+t+'"></div>\n<script>\n$(function(){var t=$("#'+a+'").html().replace(/[ \t]+/g,",");Highcharts.chart("'+t+'",{chart:{type:"heatmap",inverted:!1,style:{fontFamily:"Arial"}},data:{csv:t},plotOptions:{heatmap:{dataLabels:{enabled:'+o+',format:"{point.value:.2f}"},turboThreshold:0}},colorAxis:{minColor:"'+n+'",maxColor:"'+r+'"},title:{text:"'+i+'"},yAxis:{title:{text:"'+l+'"}},legend:{enabled:!1},credits:{enabled:!1},legend:{align:"right",layout:"vertical",margin:0,verticalAlign:"middle",symbolHeight:220},exporting:{enabled:!0},series:[{tooltip:{headerFormat:"",pointFormat:"({point.x}, {point.y}): <b>{point.value}</b>"}}]})});<\/script>';alert(s)}});
